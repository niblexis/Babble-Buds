!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.FlexLayout=t(require("react"),require("react-dom")):e.FlexLayout=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=t.DragDrop=t.Orientation=t.DockLocation=t.BorderSet=t.BorderNode=t.TabSetNode=t.TabNode=t.SplitterNode=t.RowNode=t.Node=t.Model=t.Actions=t.Layout=void 0;var o=n(27),r=i(o),a=n(4),s=i(a),u=n(23),l=i(u),d=n(8),c=i(d),h=n(17),f=i(h),p=n(14),_=i(p),y=n(12),v=i(y),g=n(9),b=i(g),m=n(7),T=i(m),w=n(22),E=i(w),k=n(2),D=i(k),O=n(3),S=i(O),x=n(15),N=i(x),R=n(1),C=i(R);t.Layout=r.default,t.Actions=s.default,t.Model=l.default,t.Node=c.default,t.RowNode=f.default,t.SplitterNode=_.default,t.TabNode=v.default,t.TabSetNode=b.default,t.BorderNode=T.default,t.BorderSet=E.default,t.DockLocation=D.default,t.Orientation=S.default,t.DragDrop=N.default,t.Rect=C.default,t.default={Layout:r.default,Actions:s.default,Model:l.default,Node:c.default,RowNode:f.default,SplitterNode:_.default,TabNode:v.default,TabSetNode:b.default,BorderNode:T.default,BorderSet:E.default,DockLocation:D.default,Orientation:S.default,DragDrop:N.default,Rect:C.default}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),s=i(a),u=function(){function e(t,n,i,r){o(this,e),this.x=t,this.y=n,this.width=i,this.height=r}return r(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.width,this.height)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height}},{key:"getBottom",value:function(){return this.y+this.height}},{key:"getRight",value:function(){return this.x+this.width}},{key:"positionElement",value:function(e){this.styleWithPosition(e.style)}},{key:"styleWithPosition",value:function(e){return e.left=this.x+"px",e.top=this.y+"px",e.width=Math.max(0,this.width)+"px",e.height=Math.max(0,this.height)+"px",e.position="absolute",e}},{key:"contains",value:function(e,t){return this.x<=e&&e<=this.getRight()&&this.y<=t&&t<=this.getBottom()}},{key:"centerInRect",value:function(e){this.x=(e.width-this.width)/2,this.y=(e.height-this.height)/2}},{key:"_getSize",value:function(e){var t=this.width;return e===s.default.VERT&&(t=this.height),t}},{key:"toString",value:function(){return"(Rect: x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),u=n(3),l=i(u),d={},c=function(){function e(t,n,i){o(this,e),this._name=t,this._orientation=n,this._indexPlus=i,d[this._name]=this}return r(e,[{key:"getName",value:function(){return this._name}},{key:"getOrientation",value:function(){return this._orientation}},{key:"getDockRect",value:function(t){return this===e.TOP?new s.default(t.x,t.y,t.width,t.height/2):this===e.BOTTOM?new s.default(t.x,t.getBottom()-t.height/2,t.width,t.height/2):this===e.LEFT?new s.default(t.x,t.y,t.width/2,t.height):this===e.RIGHT?new s.default(t.getRight()-t.width/2,t.y,t.width/2,t.height):t.clone()}},{key:"split",value:function(t,n){if(this===e.TOP){var i=new s.default(t.x,t.y,t.width,n),o=new s.default(t.x,t.y+n,t.width,t.height-n);return{start:i,end:o}}if(this===e.LEFT){var r=new s.default(t.x,t.y,n,t.height),a=new s.default(t.x+n,t.y,t.width-n,t.height);return{start:r,end:a}}if(this===e.RIGHT){var u=new s.default(t.getRight()-n,t.y,n,t.height),l=new s.default(t.x,t.y,t.width-n,t.height);return{start:u,end:l}}if(this===e.BOTTOM){var d=new s.default(t.x,t.getBottom()-n,t.width,n),c=new s.default(t.x,t.y,t.width,t.height-n);return{start:d,end:c}}}},{key:"reflect",value:function(){return this===e.TOP?e.BOTTOM:this===e.LEFT?e.RIGHT:this===e.RIGHT?e.LEFT:this===e.BOTTOM?e.TOP:void 0}},{key:"toString",value:function(){return"(DockLocation: name="+this._name+", orientation="+this._orientation+")"}}],[{key:"getByName",value:function(e){return d[e]}},{key:"getLocation",value:function(t,n,i){return n<t.x+t.width/4?e.LEFT:n>t.getRight()-t.width/4?e.RIGHT:i<t.y+t.height/4?e.TOP:i>t.getBottom()-t.height/4?e.BOTTOM:e.CENTER}}]),e}();c.TOP=new c("top",l.default.VERT,0),c.BOTTOM=new c("bottom",l.default.VERT,1),c.LEFT=new c("left",l.default.HORZ,0),c.RIGHT=new c("right",l.default.HORZ,1),c.CENTER=new c("center",l.default.VERT,0),t.default=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){n(this,e)}return i(e,null,[{key:"flip",value:function(t){return t===e.HORZ?e.VERT:e.HORZ}}]),e}();o.HORZ="horz",o.VERT="vert",t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),s=(i(a),function(){function e(){o(this,e)}return r(e,null,[{key:"addNode",value:function(t,n,i,o){return{type:e.ADD_NODE,json:t,toNode:n,location:i.getName(),index:o}}},{key:"moveNode",value:function(t,n,i,o){return{type:e.MOVE_NODE,fromNode:t,toNode:n,location:i.getName(),index:o}}},{key:"deleteTab",value:function(t){return{type:e.DELETE_TAB,node:t}}},{key:"renameTab",value:function(t,n){return{type:e.RENAME_TAB,node:t,text:n}}},{key:"selectTab",value:function(t){return{type:e.SELECT_TAB,tabNode:t}}},{key:"setActiveTabset",value:function(t){return{type:e.SET_ACTIVE_TABSET,tabsetNode:t}}},{key:"adjustSplit",value:function(t){var n=t.node1,i=t.node2;return{type:e.ADJUST_SPLIT,node1:n,weight1:t.weight1,pixelWidth1:t.pixelWidth1,node2:i,weight2:t.weight2,pixelWidth2:t.pixelWidth2}}},{key:"adjustBorderSplit",value:function(t,n){return{type:e.ADJUST_BORDER_SPLIT,node:t,pos:n}}},{key:"maximizeToggle",value:function(t){return{type:e.MAXIMIZE_TOGGLE,node:t}}},{key:"updateModelAttributes",value:function(t){return{type:e.UPDATE_MODEL_ATTRIBUTES,json:t}}},{key:"updateNodeAttributes",value:function(t,n){return{type:e.UPDATE_NODE_ATTRIBUTES,node:t,json:n}}}]),e}());s.ADD_NODE="FlexLayout_AddNode",s.MOVE_NODE="FlexLayout_MoveNode",s.DELETE_TAB="FlexLayout_DeleteTab",s.RENAME_TAB="FlexLayout_RenameTab",s.SELECT_TAB="FlexLayout_SelectTab",s.SET_ACTIVE_TABSET="FlexLayout_SetActiveTabset",s.ADJUST_SPLIT="FlexLayout_AdjustSplit",s.ADJUST_BORDER_SPLIT="FlexLayout_AdjustBorderSplit",s.MAXIMIZE_TOGGLE="FlexLayout_MaximizeToggle",s.UPDATE_MODEL_ATTRIBUTES="FlexLayout_UpdateModelAttributes",s.UPDATE_NODE_ATTRIBUTES="FlexLayout_UpdateNodeAttributes",t.default=s},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),d=n(11),c=i(d),h=n(10),f=i(h),p=n(2),_=i(p),y=n(3),v=i(y),g=n(16),b=i(g),m=n(8),T=i(m),w=n(12),E=i(w),k=n(9),D=i(k),O=n(14),S=i(O),x=function(e){function t(e,n,i){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i));return a._contentRect=null,a._tabHeaderRect=null,a._location=e,a._drawChildren=[],a._attributes.id="border_"+e.getName(),N.fromJson(n,a._attributes),i._addNode(a),a}return a(t,e),s(t,[{key:"getLocation",value:function(){return this._location}},{key:"getTabHeaderRect",value:function(){return this._tabHeaderRect}},{key:"getContentRect",value:function(){return this._contentRect}},{key:"isEnableDrop",value:function(){return this._getAttr("enableDrop")}},{key:"getClassNameBorder",value:function(){return this._getAttr("className")}},{key:"getBorderBarSize",value:function(){return this._getAttr("barSize")}},{key:"getSize",value:function(){return this._attributes.size}},{key:"getSelected",value:function(){return this._attributes.selected}},{key:"getSelectedNode",value:function(){return this.getSelected()!=-1?this._children[this.getSelected()]:null}},{key:"getOrientation",value:function(){return this._location.getOrientation()}},{key:"isMaximized",value:function(){return!1}},{key:"isShowing",value:function(){return this._attributes.show}},{key:"_setSelected",value:function(e){this._attributes.selected=e}},{key:"_setSize",value:function(e){this._attributes.size=e}},{key:"_updateAttrs",value:function(e){N.update(e,this._attributes)}},{key:"_getDrawChildren",value:function(){return this._drawChildren}},{key:"_setAdjustedSize",value:function(e){this._adjustedSize=e}},{key:"_getAdjustedSize",value:function(){return this._adjustedSize}},{key:"_layout",value:function(e){var t=this;this._drawChildren=[];var n=this._location,i=n.split(e.outer,this.getBorderBarSize()),o=n.split(e.inner,this.getBorderBarSize()),r=n.split(o.end,this._adjustedSize+this._model.getSplitterSize()),a=n.reflect().split(r.start,this._model.getSplitterSize());if(this._tabHeaderRect=o.start,this._contentRect=a.end,this._children.forEach(function(e,n){e._layout(t._contentRect),e._setVisible(n===t.getSelected()),t._drawChildren.push(e)}),this.getSelected()==-1)return{outer:i.end,inner:o.end};var s=new S.default(this._model);return s._parent=this,s._rect=a.start,this._drawChildren.push(s),{outer:i.end,inner:r.end}}},{key:"_remove",value:function(e){if(this.getSelected()!=-1){var t=this._children[this.getSelected()];if(e===t)this._setSelected(-1),this._removeChild(e);else{this._removeChild(e);for(var n=0;n<this._children.length;n++)if(this._children[n]===t){this._setSelected(n);break}}}else this._removeChild(e)}},{key:"_canDrop",value:function(e,t,n){if(e.getType()!=E.default.TYPE)return!1;var i=null,o=_.default.CENTER;if(this._tabHeaderRect.contains(t,n)){if(this._location._orientation==v.default.VERT)if(this._children.length>0){for(var r=this._children[0],a=r._tabRect,s=a.y,u=a.height,d=this._tabHeaderRect.x,c=0,h=0;h<this._children.length;h++){if(r=this._children[h],a=r._tabRect,c=a.x+a.width/2,t>=d&&t<c){var f=new l.default(a.x-2,s,3,u);i=new b.default(this,f,o,h,"flexlayout__outline_rect");break}d=c}if(null==i){var p=new l.default(a.getRight()-2,s,3,u);i=new b.default(this,p,o,this._children.length,"flexlayout__outline_rect")}}else{var y=new l.default(this._tabHeaderRect.x+1,this._tabHeaderRect.y+2,3,18);i=new b.default(this,y,o,0,"flexlayout__outline_rect")}else if(this._children.length>0){for(var g=this._children[0],m=g._tabRect,T=m.x,w=m.width,k=this._tabHeaderRect.y,D=0,O=0;O<this._children.length;O++){if(g=this._children[O],m=g._tabRect,D=m.y+m.height/2,n>=k&&n<D){var S=new l.default(T,m.y-2,w,3);i=new b.default(this,S,o,O,"flexlayout__outline_rect");break}k=D}if(null==i){var x=new l.default(T,m.getBottom()-2,w,3);i=new b.default(this,x,o,this._children.length,"flexlayout__outline_rect")}}else{var N=new l.default(this._tabHeaderRect.x+2,this._tabHeaderRect.y+1,18,3);i=new b.default(this,N,o,0,"flexlayout__outline_rect")}if(!e._canDockInto(e,i))return null}else if(this.getSelected()!=-1&&this._contentRect.contains(t,n)){var R=this._contentRect;if(i=new b.default(this,R,o,-1,"flexlayout__outline_rect"),!e._canDockInto(e,i))return null}return i}},{key:"_drop",value:function(e,n,i){var o=0;null!=e._parent&&(o=e._parent._removeChild(e)),e.getType()===E.default.TYPE&&e._parent===this&&o<i&&i>0&&i--,null!==e._parent&&(e._parent.getType()===D.default.TYPE?e._parent._setSelected(0):e._parent.getType()===t.TYPE&&e._parent.getSelected()!=-1&&(o===e._parent.getSelected()&&e._parent._children.length>0?e._parent._setSelected(0):o<e._parent.getSelected()?e._parent._setSelected(e._parent.getSelected()-1):o>e._parent.getSelected()||e._parent._setSelected(-1)));var r=i;r===-1&&(r=this._children.length),e.getType()===E.default.TYPE&&this._addChild(e,r),this.getSelected()!==-1&&this._setSelected(r),this._model._tidy()}},{key:"_toJson",value:function(){var e={};return N.toJson(e,this._attributes),e.location=this._location.getName(),e.children=this._children.map(function(e){return e._toJson()}),e}},{key:"_getSplitterBounds",value:function(e){var t=[0,0],n=this._model._getOuterInnerRects().outer,i=this._model._getOuterInnerRects().inner;return this._location===_.default.TOP?(t[0]=n.y,t[1]=i.getBottom()-e.getHeight()):this._location===_.default.LEFT?(t[0]=n.x,t[1]=i.getRight()-e.getWidth()):this._location===_.default.BOTTOM?(t[0]=i.y,t[1]=n.getBottom()-e.getHeight()):this._location===_.default.RIGHT&&(t[0]=i.x,t[1]=n.getRight()-e.getWidth()),t}},{key:"_calculateSplit",value:function(e,t){var n=this._getSplitterBounds(e);return this._location==_.default.BOTTOM||this._location==_.default.RIGHT?Math.max(0,n[1]-t):Math.max(0,t-n[0])}},{key:"_getAttributeDefinitions",value:function(){return N}}],[{key:"_fromJson",value:function(e,n){var i=_.default.getByName(e.location),o=new t(i,e,n);return e.children&&(o._children=e.children.map(function(e){var t=E.default._fromJson(e,n);return t._parent=o,t})),o}}]),t}(T.default);x.TYPE="border";var N=new c.default;N.add("type",x.TYPE,!0),N.add("size",200),N.add("selected",-1),N.add("show",!0).setType(f.default.BOOLEAN),N.addInherited("barSize","borderBarSize").setType(f.default.INT).setFrom(0),N.addInherited("enableDrop","borderEnableDrop").setType(f.default.BOOLEAN),N.addInherited("className","borderClassName").setType(f.default.STRING),t.default=x},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),u=n(3),l=i(u),d=n(2),c=i(d),h=function(){function e(t){o(this,e),this._model=t,this._attributes={},this._parent=null,this._children=[],this._fixed=!1,this._rect=new s.default,this._visible=!1,this._listeners={}}return r(e,[{key:"getId",value:function(){return this._attributes.id}},{key:"getModel",value:function(){return this._model}},{key:"getType",value:function(){return this._attributes.type}},{key:"getParent",value:function(){return this._parent}},{key:"getChildren",value:function(){return this._children}},{key:"getRect",value:function(){return this._rect}},{key:"isVisible",value:function(){return this._visible}},{key:"getOrientation",value:function(){return null==this._parent?l.default.HORZ:l.default.flip(this._parent.getOrientation())}},{key:"setEventListener",value:function(e,t){this._listeners[e]=t}},{key:"removeEventListener",value:function(e){delete this._listeners[e]}},{key:"_setId",value:function(e){this._attributes.id=e}},{key:"_fireEvent",value:function(e,t){null!=this._listeners[e]&&this._listeners[e](t)}},{key:"_getAttr",value:function(e){var t=this._attributes[e];if(void 0===t){var n=this._getAttributeDefinitions().getModelName(e);null!=n&&(t=this._model._attributes[n])}return t}},{key:"_forEachNode",value:function(e,t){e(this,t),t++,this._children.forEach(function(n){n._forEachNode(e,t)})}},{key:"_getPrefSize",value:function(e){var t=this.getWidth();return e===l.default.VERT&&(t=this.getHeight()),t}},{key:"_setVisible",value:function(e){e!=this._visible&&(this._fireEvent("visibility",{visible:e}),this._visible=e)}},{key:"_getDrawChildren",value:function(){return this._children}},{key:"_layout",value:function(e){this._rect=e}},{key:"_findDropTargetNode",value:function(e,t,n){var i=null;if(this._rect.contains(t,n)&&(i=this._canDrop(e,t,n),null==i&&0!==this._children.length))for(var o=0;o<this._children.length;o++){var r=this._children[o];if(i=r._findDropTargetNode(e,t,n),null!=i)break}return i}},{key:"_canDrop",value:function(e,t,n){return null}},{key:"_canDockInto",value:function(e,t){if(null!=t){if(t.location===c.default.CENTER&&t.node.isEnableDrop()===!1)return!1;if(t.location===c.default.CENTER&&"tabset"===e.getType()&&null!==e.getName())return!1;if(t.location!==c.default.CENTER&&t.node.isEnableDivide()===!1)return!1;if(this._model._onAllowDrop)return this._model._onAllowDrop(e,t)}return!0}},{key:"_removeChild",value:function(e){var t=this._children.indexOf(e);return t!==-1&&this._children.splice(t,1),this._dirty=!0,t}},{key:"_addChild",value:function(e,t){return void 0!=t?this._children.splice(t,0,e):(this._children.push(e),t=this._children.length-1),e._parent=this,this._dirty=!0,t}},{key:"_removeAll",value:function(){this._children=[],this._dirty=!0}},{key:"_styleWithPosition",value:function(e){return void 0==e&&(e={}),this._rect.styleWithPosition(e)}},{key:"isEnableDivide",value:function(){return!0}},{key:"_updateAttrs",value:function(e){}},{key:"_getAttributeDefinitions",value:function(){return null}},{key:"_toStringIndented",value:function(e,t){e.push(t+this.getType()+" "+this.getWeight().toFixed(2)+" "+this.getId()),t+="\t",this._children.forEach(function(n){n._toStringIndented(e,t)})}},{key:"_toAttributeString",value:function(){return JSON.stringify(this._attributes,null,"\t")}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),d=n(11),c=i(d),h=n(10),f=i(h),p=n(2),_=i(p),y=n(16),v=i(y),g=n(8),b=i(g),m=n(12),T=i(m),w=n(17),E=i(w),k=n(7),D=i(k),O=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._contentRect=null,i._headerRect=null,i._tabHeaderRect=null,S.fromJson(n,i._attributes),e._addNode(i),i}return a(t,e),s(t,[{key:"getName",value:function(){return this._attributes.name}},{key:"getSelected",value:function(){return this._attributes.selected}},{key:"getSelectedNode",value:function(){var e=this.getSelected();return e!=-1?this._children[e]:null}},{key:"getWeight",value:function(){return this._attributes.weight}},{key:"getWidth",value:function(){return this._attributes.width}},{key:"getHeight",value:function(){return this._attributes.height}},{key:"isMaximized",value:function(){return this._model.getMaximizedTabset()===this}},{key:"isActive",value:function(){return this._model.getActiveTabset()===this}},{key:"isEnableDeleteWhenEmpty",value:function(){return this._getAttr("enableDeleteWhenEmpty")}},{key:"isEnableClose",value:function(){return this._getAttr("enableClose")}},{key:"isEnableDrop",value:function(){return this._getAttr("enableDrop")}},{key:"isEnableDrag",value:function(){return this._getAttr("enableDrag")}},{key:"isEnableDivide",value:function(){return this._getAttr("enableDivide")}},{key:"isEnableMaximize",value:function(){return this._getAttr("enableMaximize")}},{key:"isEnableTabStrip",value:function(){return this._getAttr("enableTabStrip")}},{key:"getClassNameTabStrip",value:function(){return this._getAttr("classNameTabStrip")}},{key:"getClassNameHeader",value:function(){return this._getAttr("classNameHeader")}},{key:"getHeaderHeight",value:function(){return this._getAttr("headerHeight")}},{key:"getTabStripHeight",value:function(){return this._getAttr("tabStripHeight")}},{key:"_setWeight",value:function(e){this._attributes.weight=e}},{key:"_setSelected",value:function(e){this._attributes.selected=e}},{key:"_canDrop",value:function(e,t,n){var i=null;if(e===this){var o=_.default.CENTER,r=this._tabHeaderRect;i=new v.default(this,r,o,-1,"flexlayout__outline_rect")}else if(this._contentRect.contains(t,n)){var a=_.default.getLocation(this._contentRect,t,n),s=a.getDockRect(this._rect);i=new v.default(this,s,a,-1,"flexlayout__outline_rect")}else if(this._children.length>0&&null!=this._tabHeaderRect&&this._tabHeaderRect.contains(t,n)){for(var u=this._children[0],d=u._tabRect,c=d.y,h=d.height,f=this._tabHeaderRect.x,p=0,y=0;y<this._children.length;y++){if(u=this._children[y],d=u._tabRect,p=d.x+d.width/2,t>=f&&t<p){var g=_.default.CENTER,b=new l.default(d.x-2,c,3,h);i=new v.default(this,b,g,y,"flexlayout__outline_rect");break}f=p}if(null==i){var m=_.default.CENTER,T=new l.default(d.getRight()-2,c,3,h);i=new v.default(this,T,m,this._children.length,"flexlayout__outline_rect")}}return e._canDockInto(e,i)?i:null}},{key:"_layout",value:function(e){var t=this;this.isMaximized()&&(e=this._model._root._rect),this._rect=e;var n=null!=this.getName(),i=0;n&&(this._headerRect=new l.default(e.x,e.y,e.width,this.getHeaderHeight()),i+=this.getHeaderHeight()),this.isEnableTabStrip()&&(this._tabHeaderRect=new l.default(e.x,e.y+i,e.width,this.getTabStripHeight()),i+=this.getTabStripHeight()),this._contentRect=new l.default(e.x,e.y+i,e.width,e.height-i),this._children.forEach(function(e,n){e._layout(t._contentRect),e._setVisible(n===t.getSelected())})}},{key:"_remove",value:function(e){this._removeChild(e),this._model._tidy(),this._setSelected(Math.max(0,this.getSelected()-1))}},{key:"_drop",value:function(e,n,i){var o=this,r=n;if(this!==e){var a=null,s=0;if(null!=e._parent&&(a=e._parent.getSelectedNode,s=e._parent._removeChild(e)),e.getType()===T.default.TYPE&&e._parent===this&&s<i&&i>0&&i--,null!==e._parent&&(e._parent.getType()===t.TYPE?e._parent._setSelected(0):e._parent.getType()===D.default.TYPE&&e._parent.getSelected()!=-1&&(s===e._parent.getSelected()&&e._parent._children.length>0?e._parent._setSelected(0):s<e._parent.getSelected()?e._parent._setSelected(e._parent.getSelected()-1):s>e._parent.getSelected()||e._parent._setSelected(-1))),r===_.default.CENTER){var u=i;u===-1&&(u=this._children.length),e.getType()===T.default.TYPE?(this._addChild(e,u),this._setSelected(u)):e._children.forEach(function(e,t){o._addChild(e,u),u++}),this._model._activeTabSet=this}else{var l=null;e.getType()===T.default.TYPE?(l=new t(this._model,{}),l._addChild(e),e._parent=l):l=e;var d=this._parent,c=d._children.indexOf(this);if(d.getOrientation()===r._orientation)l._setWeight(this.getWeight()/2),this._setWeight(this.getWeight()/2),d._addChild(l,c+r._indexPlus);else{var h=new E.default(this._model,{});h._setWeight(this.getWeight()),h._addChild(this),this._setWeight(50),l._setWeight(50),h._addChild(l,r._indexPlus),d._removeChild(this),d._addChild(h,c)}this._model._activeTabSet=l}this._model._tidy()}}},{key:"_toJson",value:function(){var e={};return S.toJson(e,this._attributes),e.children=this._children.map(function(e){return e._toJson()}),this.isActive()&&(e.active=!0),this.isMaximized()&&(e.maximized=!0),e}},{key:"_updateAttrs",value:function(e){S.update(e,this._attributes)}},{key:"_getAttributeDefinitions",value:function(){return S}}],[{key:"_fromJson",value:function(e,n){var i=new t(n,e);return void 0!=e.children&&e.children.forEach(function(e){var t=T.default._fromJson(e,n);i._addChild(t)}),e.maximized&&1==e.maximized&&n._setMaximizedTabset(i),e.active&&1==e.active&&n._setActiveTabset(i),i}}]),t}(b.default);O.TYPE="tabset";var S=new c.default;S.add("type",O.TYPE,!0),S.add("id",null).setType(f.default.ID),S.add("weight",100),S.add("width",null),S.add("height",null),S.add("selected",0),S.add("name",null).setType(f.default.STRING),S.addInherited("enableDeleteWhenEmpty","tabSetEnableDeleteWhenEmpty"),S.addInherited("enableClose","tabSetEnableClose"),S.addInherited("enableDrop","tabSetEnableDrop"),S.addInherited("enableDrag","tabSetEnableDrag"),S.addInherited("enableDivide","tabSetEnableDivide"),S.addInherited("enableMaximize","tabSetEnableMaximize"),S.addInherited("classNameTabStrip","tabSetClassNameTabStrip"),S.addInherited("classNameHeader","tabSetClassNameHeader"),S.addInherited("enableTabStrip","tabSetEnableTabStrip"),S.addInherited("headerHeight","tabSetHeaderHeight"),S.addInherited("tabStripHeight","tabSetTabStripHeight"),t.default=O},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i,o,r){n(this,e),this.name=t,this.modelName=i,this.defaultValue=o,this.alwaysWriteJson=r,this.type=null,this.values=[],this.from=-99999999,this.to=99999999}return i(e,[{key:"setType",value:function(e){return this.type=e,this}},{key:"setValues",value:function(){return this.values=Array.from(arguments),this}},{key:"setFrom",value:function(e){return this.from=e,this}},{key:"setTo",value:function(e){return this.to=e,this}}]),e}();o.ENUM="Enum",o.INT="Int",o.NUMBER="Number",o.STRING="String",o.BOOLEAN="Boolean",o.ID="Id",o.JSON="Json",t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),s=i(a),u=function(){function e(){o(this,e),this.attributes=[],this.nameToAttribute={}}return r(e,[{key:"addWithAll",value:function(e,t,n,i){var o=new s.default(e,t,n,i);return this.attributes.push(o),this.nameToAttribute[e]=o,o}},{key:"addInherited",value:function(e,t){return this.addWithAll(e,t,void 0,!1)}},{key:"add",value:function(e,t,n){return this.addWithAll(e,null,t,n)}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getModelName",value:function(e){var t=this.nameToAttribute[e];return null!=t?t.modelName:null}},{key:"toJson",value:function(e,t){this.attributes.forEach(function(n){var i=t[n.name];(n.alwaysWriteJson||i!==n.defaultValue)&&(e[n.name]=i)})}},{key:"fromJson",value:function(e,t){this.attributes.forEach(function(n){var i=e[n.name];void 0===i?t[n.name]=n.defaultValue:t[n.name]=i})}},{key:"update",value:function(e,t){this.attributes.forEach(function(n){var i=e[n.name];void 0!==i&&(t[n.name]=i)})}},{key:"setDefaults",value:function(e){this.attributes.forEach(function(t){e[t.name]=t.defaultValue})}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(8),l=i(u),d=n(11),c=i(d),h=n(10),f=i(h),p=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._tabRect=null,i._extra={},_.fromJson(n,i._attributes),e._addNode(i),i}return a(t,e),s(t,[{key:"getTabRect",value:function(){return this._tabRect}},{key:"setTabRect",value:function(e){this._tabRect=e}},{key:"getName",value:function(){return this._attributes.name}},{key:"getComponent",value:function(){return this._attributes.component}},{key:"getConfig",value:function(){return this._attributes.config}},{key:"getExtraData",value:function(){return this._extra}},{key:"getIcon",value:function(){return this._attributes.icon}},{key:"isEnableClose",value:function(){return this._getAttr("enableClose")}},{key:"isEnableDrag",value:function(){return this._getAttr("enableDrag")}},{key:"isEnableRename",value:function(){return this._getAttr("enableRename")}},{key:"getClassName",value:function(){return this._getAttr("className")}},{key:"_setName",value:function(e){this._attributes.name=e}},{key:"_layout",value:function(e){e.equals(this._rect)||this._fireEvent("resize",{rect:e}),this._rect=e}},{key:"_delete",value:function(){this._parent._remove(this),this._fireEvent("close",{})}},{key:"_toJson",value:function(){var e={};return _.toJson(e,this._attributes),e}},{key:"_updateAttrs",value:function(e){_.update(e,this._attributes)}},{key:"_getAttributeDefinitions",value:function(){return _}}],[{key:"_fromJson",value:function(e,n){var i=new t(n,e);return i}}]),t}(l.default);p.TYPE="tab";var _=new c.default;_.add("type",p.TYPE,!0),_.add("id",null).setType(f.default.ID),_.add("name",null).setType(f.default.STRING),_.add("component",null).setType(f.default.STRING),_.add("config",null).setType(f.default.JSON),
_.addInherited("enableClose","tabEnableClose").setType(f.default.BOOLEAN),_.addInherited("enableDrag","tabEnableDrag").setType(f.default.BOOLEAN),_.addInherited("enableRename","tabEnableRename").setType(f.default.BOOLEAN),_.addInherited("className","tabClassName").setType(f.default.STRING),_.addInherited("icon","tabIcon").setType(f.default.STRING),t.default=p},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function r(e){if(c===clearTimeout)return clearTimeout(e);if((c===i||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function a(){_&&f&&(_=!1,f.length?p=f.concat(p):y=-1,p.length&&s())}function s(){if(!_){var e=o(a);_=!0;for(var t=p.length;t;){for(f=p,p=[];++y<t;)f&&f[y].run();y=-1,t=p.length}f=null,_=!1,r(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var d,c,h=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{c="function"==typeof clearTimeout?clearTimeout:i}catch(e){c=i}}();var f,p=[],_=!1,y=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||_||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(8),l=i(u),d=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._fixed=!0,n._attributes.type=t.TYPE,e._addNode(n),n}return a(t,e),s(t,[{key:"getWidth",value:function(){return this._model.getSplitterSize()}},{key:"getHeight",value:function(){return this._model.getSplitterSize()}}]),t}(l.default);d.TYPE="splitter",t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=i(a),u=function(){function e(){o(this,e),this.glass=document.createElement("div"),this.glass.style.zIndex=998,this.glass.style.position="absolute",this.glass.style.backgroundColor="white",this.glass.style.opacity=".00",this.glass.style.filter="alpha(opacity=01)",this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.lastClick=0,this.clickX=0,this.clickY=0}return r(e,[{key:"addGlass",value:function(e){if(this.glassShowing)this.manualGlassManagement=!0;else{var t=new s.default(0,0,document.documentElement.clientWidth,document.documentElement.clientHeight);t.positionElement(this.glass),document.body.appendChild(this.glass),this.glass.tabIndex=-1,this.glass.focus(),this.glass.addEventListener("keydown",this.onKeyPress),this.glassShowing=!0,this.fDragCancel=e,this.manualGlassManagement=!1}}},{key:"hideGlass",value:function(){this.glassShowing&&(document.body.removeChild(this.glass),this.glassShowing=!1)}},{key:"onKeyPress",value:function(e){null!=this.fDragCancel&&27===e.keyCode&&(this.hideGlass(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.dragging=!1,this.fDragCancel())}},{key:"getLocationEvent",value:function(e){var t=e;return e.touches&&(t=e.touches[0]),t}},{key:"getLocationEventEnd",value:function(e){var t=e;return e.changedTouches&&(t=e.changedTouches[0]),t}},{key:"stopPropagation",value:function(e){e.stopPropagation&&e.stopPropagation()}},{key:"preventDefault",value:function(e){return e.preventDefault&&e.preventDefault(),e}},{key:"startDrag",value:function(e,t,n,i,o,r,a){var s=this.getLocationEvent(e);this.addGlass(o),this.dragging,null!=e?(this.startX=s.clientX,this.startY=s.clientY,this.glass.style.cursor=getComputedStyle(e.target).cursor,this.stopPropagation(e),this.preventDefault(e)):(this.startX=0,this.startY=0,this.glass.style.cursor="default"),this.dragging=!1,this.fDragStart=t,this.fDragMove=n,this.fDragEnd=i,this.fDragCancel=o,this.fClick=r,this.fDblClick=a,document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchend",this.onMouseUp),document.addEventListener("touchmove",this.onMouseMove)}},{key:"onMouseMove",value:function(e){var t=this.getLocationEvent(e);return this.stopPropagation(e),this.preventDefault(e),!this.dragging&&(Math.abs(this.startX-t.clientX)>5||Math.abs(this.startY-t.clientY)>5)&&(this.dragging=!0,this.fDragStart&&(this.glass.style.cursor="move",this.dragging=this.fDragStart({clientX:this.startX,clientY:this.startY}))),this.dragging&&this.fDragMove&&this.fDragMove(t),!1}},{key:"onMouseUp",value:function(e){var t=this.getLocationEventEnd(e);if(this.stopPropagation(e),this.preventDefault(e),this.manualGlassManagement||this.hideGlass(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchend",this.onMouseUp),document.removeEventListener("touchmove",this.onMouseMove),this.dragging)this.dragging=!1,this.fDragEnd&&this.fDragEnd(e);else if(Math.abs(this.startX-t.clientX)<=5&&Math.abs(this.startY-t.clientY)<=5){var n=(new Date).getTime();Math.abs(this.clickX-t.clientX)<=5&&Math.abs(this.clickY-t.clientY)<=5&&n-this.lastClick<500&&this.fDblClick&&this.fDblClick(e),this.fClick&&this.fClick(e),this.lastClick=n,this.clickX=t.clientX,this.clickY=t.clientY}return!1}},{key:"isDragging",value:function(){return this.dragging}},{key:"toString",value:function(){var e="(DragDrop: startX="+this.startX+", startY="+this.startY+", dragging="+this.dragging+")";return e}}]),e}();u.instance=new u,t.default=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,i,o,r,a){n(this,e),this.node=t,this.rect=i,this.location=o,this.index=r,this.className=a};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(i)},l=n(1),d=i(l),c=n(11),h=i(c),f=n(3),p=i(f),_=n(2),y=i(_),v=n(14),g=i(v),b=n(8),m=i(b),T=n(9),w=i(T),E=n(7),k=i(E),D=n(16),O=i(D),S=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._dirty=!0,i._drawChildren=[],x.fromJson(n,i._attributes),e._addNode(i),i}return a(t,e),s(t,[{key:"getWeight",value:function(){return this._attributes.weight}},{key:"getWidth",value:function(){return this._attributes.width}},{key:"getHeight",value:function(){return this._attributes.height}},{key:"_setWeight",value:function(e){this._attributes.weight=e}},{key:"_layout",value:function(e){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_layout",this).call(this,e);for(var n=this._rect._getSize(this.getOrientation()),i=0,o=0,r=0,a=0,s=0,l=this._getDrawChildren(),c=0;c<l.length;c++){var h=l[c],f=h._getPrefSize(this.getOrientation());h._fixed?o+=f:(null==f?i+=h.getWeight():(r+=f,s+=h.getWeight()),a++)}var _=!1,y=n-o-r;y<0&&(y=n-o,_=!0,i+=s);for(var v=0,g=0,b=0;b<l.length;b++){var m=l[b],T=m._getPrefSize(this.getOrientation());m._fixed?m.tempsize=T:null==T||_?(0===i?m.tempsize=0:m.tempsize=Math.floor(y*(m.getWeight()/i)),g+=m.tempsize):m.tempsize=T,v+=m.tempsize}if(g>0)for(;v<n;)for(var w=0;w<l.length;w++){var E=l[w],k=E._getPrefSize(this.getOrientation());!E._fixed&&(null==k||_)&&v<n&&(E.tempsize++,v++)}for(var D=(p.default.flip(this.getOrientation()),0),O=0;O<l.length;O++){var S=l[O];this.getOrientation()===p.default.HORZ?S._layout(new d.default(this._rect.x+D,this._rect.y,S.tempsize,this._rect.height)):S._layout(new d.default(this._rect.x,this._rect.y+D,this._rect.width,S.tempsize)),D+=S.tempsize}return!0}},{key:"_getSplitterBounds",value:function(e){var t=[0,0],n=this._getDrawChildren(),i=n.indexOf(e);return this.getOrientation()===p.default.HORZ?(t[0]=n[i-1]._rect.x,t[1]=n[i+1]._rect.getRight()-e.getWidth()):(t[0]=n[i-1]._rect.y,t[1]=n[i+1]._rect.getBottom()-e.getHeight()),t}},{key:"_calculateSplit",value:function(e,t){var n=null,i=this._getDrawChildren(),o=i.indexOf(e),r=this._getSplitterBounds(e),a=i[o-1].getWeight()+i[o+1].getWeight(),s=Math.max(0,t-r[0]),u=Math.max(0,r[1]-t);if(s+u>0){var l=s*a/(s+u),d=u*a/(s+u);n={node1:i[o-1].getId(),weight1:l,pixelWidth1:s,node2:i[o+1].getId(),weight2:d,pixelWidth2:u}}return n}},{key:"_getDrawChildren",value:function(){if(this._dirty){this._drawChildren=[];for(var e=0;e<this._children.length;e++){var t=this._children[e];if(0!==e){var n=new g.default(this._model);n._parent=this,this._drawChildren.push(n)}this._drawChildren.push(t)}this._dirty=!1}return this._drawChildren}},{key:"_tidy",value:function(){for(var e=0;e<this._children.length;){var n=this._children[e];if(n.getType()===t.TYPE)if(n._tidy(),0===n._children.length)this._removeChild(n);else if(1===n._children.length){var i=n._children[0];if(this._removeChild(n),i.getType()===t.TYPE){for(var o=0,r=0;r<i._children.length;r++){var a=i._children[r];o+=a.getWeight()}for(var s=0;s<i._children.length;s++){var u=i._children[s];u._setWeight(n.getWeight()*u.getWeight()/o),this._addChild(u,e+s)}}else i._setWeight(n.getWeight()),this._addChild(i,e)}else e++;else n.getType()===w.default.TYPE&&0===n._children.length&&n.isEnableDeleteWhenEmpty()?this._removeChild(n):e++}if(this==this._model.getRoot()&&0==this._children.length){var l=new w.default(this._model,{type:"tabset"});this._addChild(l)}}},{key:"_canDrop",value:function(e,t,n){var i=n-this._rect.y,o=t-this._rect.x,r=this._rect.width,a=this._rect.height,s=10,u=50,l=null;if(this._model.isEnableEdgeDock()&&null==this._parent){if(t<this._rect.x+s&&i>a/2-u&&i<a/2+u){var d=y.default.LEFT,c=d.getDockRect(this._rect);c.width=c.width/2,l=new O.default(this,c,d,-1,"flexlayout__outline_rect_edge")}else if(t>this._rect.getRight()-s&&i>a/2-u&&i<a/2+u){var h=y.default.RIGHT,f=h.getDockRect(this._rect);f.width=f.width/2,f.x+=f.width,l=new O.default(this,f,h,-1,"flexlayout__outline_rect_edge")}else if(n<this._rect.y+s&&o>r/2-u&&o<r/2+u){var p=y.default.TOP,_=p.getDockRect(this._rect);_.height=_.height/2,l=new O.default(this,_,p,-1,"flexlayout__outline_rect_edge")}else if(n>this._rect.getBottom()-s&&o>r/2-u&&o<r/2+u){var v=y.default.BOTTOM,g=v.getDockRect(this._rect);g.height=g.height/2,g.y+=g.height,l=new O.default(this,g,v,-1,"flexlayout__outline_rect_edge")}if(null!=l&&!e._canDockInto(e,l))return null}return l}},{key:"_drop",value:function(e,n,i){var o=n;e._parent&&e._parent._removeChild(e),null!==e._parent&&e._parent.getType()===w.default.TYPE&&e._parent._setSelected(0),null!==e._parent&&e._parent.getType()===k.default.TYPE&&e._parent._setSelected(-1);var r=null;e.getType()===w.default.TYPE?r=e:(r=new w.default(this._model,{}),r._addChild(e));var a=this._children.reduce(function(e,t){return e+t.getWeight()},0);if(0===a&&(a=100),r._setWeight(a/3),o===y.default.LEFT)this._addChild(r,0);else if(o===y.default.RIGHT)this._addChild(r);else if(o===y.default.TOP){var s=new t(this._model,{}),u=new t(this._model,{});u._setWeight(75),r._setWeight(25),this._children.forEach(function(e){u._addChild(e)}),this._removeAll(),s._addChild(r),s._addChild(u),this._addChild(s)}else if(o===y.default.BOTTOM){var l=new t(this._model,{}),d=new t(this._model,{});d._setWeight(75),r._setWeight(25),this._children.forEach(function(e){d._addChild(e)}),this._removeAll(),l._addChild(d),l._addChild(r),this._addChild(l)}this._model._activeTabSet=r,this._model._tidy()}},{key:"_toJson",value:function(){var e={};return x.toJson(e,this._attributes),e.children=[],this._children.forEach(function(t){e.children.push(t._toJson())}),e}},{key:"_getAttributeDefinitions",value:function(){return x}}],[{key:"_fromJson",value:function(e,n){var i=new t(n,e);if(void 0!=e.children)for(var o=0;o<e.children.length;o++){var r=e.children[o];if(r.type===w.default.TYPE){var a=w.default._fromJson(r,n);i._addChild(a)}else{var s=t._fromJson(r,n);i._addChild(s)}}return i}}]),t}(m.default);S.TYPE="row";var x=new h.default;x.add("type",S.TYPE,!0),x.add("id",null),x.add("weight",100),x.add("width",null),x.add("height",null),t.default=S},function(e,t){"use strict";function n(e){return function(){return e}}var i=function(){};i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){(function(t){"use strict";function n(e,t,n,o,r,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,o,r,a,s,u],c=0;l=new Error(t.replace(/%s/g,function(){return d[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};"production"!==t.env.NODE_ENV&&(i=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(13))},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=i(d),h=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDocMouseUp=n.onDocMouseUp.bind(n),n.hidden=!1,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDocMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDocMouseUp)}},{key:"onDocMouseUp",value:function(e){setInterval(function(){this.hide()}.bind(this),0)}},{key:"hide",value:function(){this.hidden||(this.props.onHide(),this.hidden=!0)}},{key:"onItemClick",value:function(e,t){this.props.onSelect(e),this.hide(),t.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return l.default.createElement("div",{key:t.index,className:"flexlayout__popup_menu_item",onClick:e.onItemClick.bind(e,t)},t.name)});return l.default.createElement("div",{className:"popup_menu"},t)}}],[{key:"show",value:function(e,n,i){var o=e.getBoundingClientRect(),r=document.body.getBoundingClientRect(),a=document.createElement("div");a.className="flexlayout__popup_menu_container",a.style.right=r.right-o.right+"px",a.style.top=o.bottom+"px",document.body.appendChild(a);var s=function(){c.default.unmountComponentAtNode(a),document.body.removeChild(a)};c.default.render(l.default.createElement(t,{element:a,onSelect:i,onHide:s,items:n}),a),this.elm=a}}]),t}(l.default.Component);t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),s=(i(a),n(2)),u=(i(s),n(7)),l=i(u),d=n(3),c=i(d),h=function(){function e(t){o(this,e),this._model=t,this._borders=[]}return r(e,[{key:"getBorders",value:function(){return this._borders}},{key:"_forEachNode",value:function(e){this._borders.forEach(function(t){e(t),t._children.forEach(function(t){t._forEachNode(e)})})}},{key:"_toJson",value:function(){return this._borders.map(function(e){return e._toJson()})}},{key:"_layout",value:function(e){for(var t=e.outer,n=t.height,i=t.width,o=0,r=0,a=0,s=0,u=0,l=0,d=this._borders.filter(function(e){return e.isShowing()}),h=0;h<d.length;h++){var f=d[h];if(f.isShowing()){f._setAdjustedSize(f.getSize());var p=f.getSelected()!=-1;f.getLocation().getOrientation()==c.default.HORZ?(r+=f.getBorderBarSize()+this._model.getSplitterSize(),p&&(r+=f.getSize(),l+=f.getSize()),s++):(o+=f.getBorderBarSize()+this._model.getSplitterSize(),p&&(o+=f.getSize(),u+=f.getSize()),a++)}}for(var _=0;r>i&&l>0||o>n&&u>0;){var y=d[_];if(y.getSelected()!=-1){var v=y._getAdjustedSize();r>i&&l>0&&y.getLocation().getOrientation()==c.default.HORZ&&v>0?(y._setAdjustedSize(v-1),r--,l--):o>n&&u>0&&y.getLocation().getOrientation()==c.default.VERT&&v>0&&(y._setAdjustedSize(v-1),o--,u--)}_=(_+1)%d.length}return d.forEach(function(t){e=t._layout(e)}),e}},{key:"_findDropTargetNode",value:function(e,t,n){for(var i=0;i<this._borders.length;i++){var o=this._borders[i];if(o.isShowing()){var r=o._canDrop(e,t,n);if(null!=r)return r}}return null}}],[{key:"_fromJson",value:function(t,n){var i=new e(n);return i._borders=t.map(function(e){return l.default._fromJson(e,n)}),i}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(17),s=i(a),u=n(4),l=i(u),d=n(12),c=i(d),h=n(9),f=(i(h),n(22)),p=i(f),_=n(7),y=i(_),v=n(2),g=i(v),b=n(11),m=i(b),T=n(10),w=i(T),E=n(3),k=i(E),D=function(){function e(){o(this,e),this._attributes={},this._idMap={},this._nextId=0,this._listener=null,this._root=null,this._borders=new p.default(this),this._onAllowDrop=null,this._maximizedTabSet=null,this._activeTabSet=null}return r(e,[{key:"setListener",value:function(e){this._listener=e}},{key:"setOnAllowDrop",value:function(e){this._onAllowDrop=e}},{key:"getActiveTabset",value:function(){return this._activeTabSet}},{key:"_setActiveTabset",value:function(e){this._activeTabSet=e}},{key:"getMaximizedTabset",value:function(){return this._maximizedTabSet}},{key:"_setMaximizedTabset",value:function(e){this._maximizedTabSet=e}},{key:"getRoot",value:function(){return this._root}},{key:"getBorderSet",value:function(){return this._borders}},{key:"_getOuterInnerRects",value:function(){return this._borderRects}},{key:"visitNodes",value:function(e){this._borders._forEachNode(e),this._root._forEachNode(e,0)}},{key:"getNodeById",value:function(e){return this._idMap[e]}},{key:"doAction",value:function(e){switch(e.type){case l.default.ADD_NODE:var t=new c.default(this,e.json),n=this._idMap[e.toNode];n._drop(t,g.default.getByName(e.location),e.index);break;case l.default.MOVE_NODE:var i=this._idMap[e.fromNode],o=this._idMap[e.toNode];o._drop(i,g.default.getByName(e.location),e.index);break;case l.default.DELETE_TAB:var r=this._idMap[e.node];delete this._idMap[e.node],r._delete();break;case l.default.RENAME_TAB:var a=this._idMap[e.node];a._setName(e.text);break;case l.default.SELECT_TAB:var s=this._idMap[e.tabNode],u=s.getParent(),d=u.getChildren().indexOf(s);u.getType()===y.default.TYPE?u.getSelected()==d?u._setSelected(-1):u._setSelected(d):(u.getSelected()!==d&&u._setSelected(d),this._activeTabSet=u);break;case l.default.SET_ACTIVE_TABSET:var h=this._idMap[e.tabsetNode];this._activeTabSet=h;break;case l.default.ADJUST_SPLIT:var f=this._idMap[e.node1],p=this._idMap[e.node2];this._adjustSplitSide(f,e.weight1,e.pixelWidth1),this._adjustSplitSide(p,e.weight2,e.pixelWidth2);break;case l.default.ADJUST_BORDER_SPLIT:var _=this._idMap[e.node];_._setSize(e.pos);break;case l.default.MAXIMIZE_TOGGLE:var v=this._idMap[e.node];v===this._maximizedTabSet?this._maximizedTabSet=null:(this._maximizedTabSet=v,this._activeTabSet=v);break;case l.default.UPDATE_MODEL_ATTRIBUTES:this._updateAttrs(e.json);break;case l.default.UPDATE_NODE_ATTRIBUTES:var b=this._idMap[e.node];b._updateAttrs(e.json)}this._updateIdMap(),null!==this._listener&&this._listener()}},{key:"_updateIdMap",value:function(){var e=this;this._idMap={},this.visitNodes(function(t){return e._idMap[t.getId()]=t})}},{key:"_adjustSplitSide",value:function(e,t,n){e._setWeight(t),null!=e.getWidth()&&e.getOrientation()===k.default.VERT?e._updateAttrs({width:n}):null!=e.getHeight()&&e.getOrientation()===k.default.HORZ&&e._updateAttrs({height:n})}},{key:"toJson",value:function(){var e={global:{},layout:{}};return O.toJson(e.global,this._attributes),this.visitNodes(function(e){e._fireEvent("save",null)}),e.borders=this._borders._toJson(),e.layout=this._root._toJson(),e}},{key:"getSplitterSize",value:function(){return this._attributes.splitterSize}},{key:"isEnableEdgeDock",value:function(){return this._attributes.enableEdgeDock}},{key:"_addNode",value:function(e){if(null==e.getId())e._setId(this._nextUniqueId());else if(void 0!==this._idMap[e.getId()])throw"Error: each node must have a unique id, duplicate id: "+e.getId();"splitter"!==e.getType()&&(this._idMap[e.getId()]=e)}},{key:"_layout",value:function(e){return this._borderRects=this._borders._layout({outer:e,inner:e}),this._root._layout(this._borderRects.inner),this._borderRects.inner}},{key:"_findDropTargetNode",value:function(e,t,n){var i=this._root._findDropTargetNode(e,t,n);return null==i&&(i=this._borders._findDropTargetNode(e,t,n)),i}},{key:"_tidy",value:function(){this._root._tidy()}},{key:"_updateAttrs",value:function(e){O.update(e,this._attributes)}},{key:"_nextUniqueId",value:function(){for(this._nextId++;void 0!==this._idMap["#"+this._nextId];)this._nextId++;return"#"+this._nextId}},{key:"toString",value:function(){return JSON.stringify(this.toJson())}}],[{key:"fromJson",value:function(t){var n=new e;return O.fromJson(t.global,n._attributes),t.borders&&(n._borders=p.default._fromJson(t.borders,n)),n._root=s.default._fromJson(t.layout,n),n._tidy(),n}}]),e}(),O=new m.default;O.add("splitterSize",8).setType(w.default.INT).setFrom(1),O.add("enableEdgeDock",!0).setType(w.default.BOOLEAN),O.add("tabEnableClose",!0).setType(w.default.BOOLEAN),O.add("tabEnableDrag",!0).setType(w.default.BOOLEAN),O.add("tabEnableRename",!0).setType(w.default.BOOLEAN),O.add("tabClassName",null).setType(w.default.STRING),O.add("tabIcon",null).setType(w.default.STRING),O.add("tabSetEnableDeleteWhenEmpty",!0).setType(w.default.BOOLEAN),O.add("tabSetEnableClose",!0).setType(w.default.BOOLEAN),O.add("tabSetEnableDrop",!0).setType(w.default.BOOLEAN),O.add("tabSetEnableDrag",!0).setType(w.default.BOOLEAN),O.add("tabSetEnableDivide",!0).setType(w.default.BOOLEAN),O.add("tabSetEnableMaximize",!0).setType(w.default.BOOLEAN),O.add("tabSetClassNameTabStrip",null).setType(w.default.STRING),O.add("tabSetClassNameHeader",null).setType(w.default.STRING),O.add("tabSetEnableTabStrip",!0).setType(w.default.BOOLEAN),O.add("tabSetHeaderHeight",20).setType(w.default.INT).setFrom(0),O.add("tabSetTabStripHeight",20).setType(w.default.INT).setFrom(0),O.add("borderBarSize",25),O.add("borderEnableDrop",!0).setType(w.default.BOOLEAN),O.add("borderClassName",null).setType(w.default.STRING),t.default=D},function(e,t,n){(function(t){"use strict";var i=n(18),o=i;if("production"!==t.env.NODE_ENV){var r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=0,r="Warning: "+e.replace(/%s/g,function(){return n[o++]});"undefined"!=typeof console&&console.error(r);try{throw new Error(r)}catch(e){}};o=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r.apply(void 0,[t].concat(i))}}}e.exports=o}).call(t,n(13))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=i(d),h=n(1),f=i(h),p=n(4),_=i(p),y=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"onMouseDown",value:function(e){this.props.layout.dragStart(e,"Move: "+this.props.node.getName(),this.props.node,this.props.node.isEnableDrag(),this.onClick.bind(this),null)}},{key:"onClick",value:function(e){var t=this.props.node;this.props.layout.doAction(_.default.selectTab(t.getId()))}},{key:"onClose",value:function(e){var t=this.props.node;this.props.layout.doAction(_.default.deleteTab(t.getId()))}},{key:"onCloseMouseDown",value:function(e){e.stopPropagation()}},{key:"componentDidMount",value:function(){this.updateRect()}},{key:"componentDidUpdate",value:function(){this.updateRect()}},{key:"updateRect",value:function(){var e=c.default.findDOMNode(this.props.layout).getBoundingClientRect(),t=this.refs.self.getBoundingClientRect();this.props.node.setTabRect(new f.default(t.left-e.left,t.top-e.top,t.width,t.height)),this.contentWidth=this.refs.contents.getBoundingClientRect().width}},{key:"render",value:function(){var e="flexlayout__border_button flexlayout__border_button_"+this.props.border.getLocation().getName(),t=this.props.node;e+=this.props.selected?" flexlayout__border_button--selected":" flexlayout__border_button--unselected",null!=this.props.node.getClassName()&&(e+=" "+this.props.node.getClassName());var n=null;null!=t.getIcon()&&(n=l.default.createElement("img",{src:t.getIcon()}));var i=l.default.createElement("div",{ref:"contents",className:"flexlayout__border_button_content"},t.getName()),o=null;return this.props.node.isEnableClose()&&(o=l.default.createElement("div",{className:"flexlayout__border_button_trailing",onMouseDown:this.onCloseMouseDown.bind(this),onClick:this.onClose.bind(this),onTouchStart:this.onCloseMouseDown.bind(this)})),l.default.createElement("div",{ref:"self",style:{},className:e,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},n,i,o)}}]),t}(l.default.Component);t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=(i(d),n(1)),h=(i(c),n(4)),f=(i(h),n(7)),p=(i(f),n(25)),_=i(p),y=n(2),v=i(y),g=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.border,t=e.getTabHeaderRect().styleWithPosition({}),n=[];if(e.getLocation()!=v.default.LEFT)for(var i=0;i<e.getChildren().length;i++){var o=e.getSelected()===i,r=e.getChildren()[i];n.push(l.default.createElement(_.default,{layout:this.props.layout,border:e,node:r,key:r.getId(),selected:o,height:e.getBorderBarSize(),pos:i}))}else for(var a=e.getChildren().length-1;a>=0;a--){var s=e.getSelected()===a,u=e.getChildren()[a];
n.push(l.default.createElement(_.default,{layout:this.props.layout,border:e,node:u,key:u.getId(),selected:s,height:e.getBorderBarSize(),pos:a}))}var d="flexlayout__border_"+e.getLocation().getName();null!=this.props.border.getClassNameBorder()&&(d+=" "+this.props.border.getClassNameBorder());var c=[],h={buttons:c};this.props.layout.customizeTabSet(e,h),c=h.buttons;var f=l.default.createElement("div",{key:"toolbar",ref:"toolbar",className:"flexlayout__border_toolbar_"+e.getLocation().getName()},c);return l.default.createElement("div",{style:t,className:d},l.default.createElement("div",{className:"flexlayout__border_inner_"+e.getLocation().getName()},n),f)}}]),t}(l.default.Component);t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(35),l=i(u),d=n(5),c=i(d),h=n(6),f=i(h),p=n(28),_=i(p),y=n(29),v=i(y),g=n(31),b=i(g),m=n(26),T=i(m),w=n(15),E=i(w),k=n(1),D=i(k),O=n(2),S=i(O),x=n(12),N=i(x),R=n(9),C=i(R),M=n(14),P=i(M),A=n(4),I=i(A),j=n(23),B=i(j),L=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.model=n.props.model,n.rect=new D.default(0,0,0,0),n.model.setListener(n.onModelChange.bind(n)),n.updateRect=n.updateRect.bind(n),n.tabIds=[],n}return a(t,e),s(t,[{key:"onModelChange",value:function(){this.forceUpdate(),this.props.onModelChange&&this.props.onModelChange(this.model)}},{key:"doAction",value:function(e){void 0!==this.props.onAction?this.props.onAction(e):this.model.doAction(e)}},{key:"componentWillReceiveProps",value:function(e){this.model!==e.model&&(null!=this.model&&this.model.setListener(null),this.model=e.model,this.model.setListener(this.onModelChange.bind(this)),this.forceUpdate())}},{key:"componentDidMount",value:function(){this.updateRect(),window.addEventListener("resize",this.updateRect)}},{key:"componentDidUpdate",value:function(){this.updateRect()}},{key:"updateRect",value:function(){var e=this.refs.self.getBoundingClientRect(),t=new D.default(0,0,e.width,e.height);t.equals(this.rect)||(this.rect=t,this.forceUpdate())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateRect)}},{key:"render",value:function(){var e=this;this.start=Date.now();var t=[],n=[],i={},o=[];this.centerRect=this.model._layout(this.rect),this.renderBorder(this.model.getBorderSet(),t,i,o),this.renderChildren(this.model.getRoot(),n,i,o);var r=[],a={};return this.tabIds.forEach(function(e){i[e]&&(r.push(e),a[e]=e)}),this.tabIds=r,Object.keys(i).forEach(function(t){a[t]||e.tabIds.push(t)}),this.layoutTime=Date.now()-this.start,c.default.createElement("div",{ref:"self",className:"flexlayout__layout"},n,this.tabIds.map(function(e){return i[e]}),t,o)}},{key:"renderBorder",value:function(e,t,n,i){for(var o=0;o<e.getBorders().length;o++){var r=e.getBorders()[o];if(r.isShowing()){t.push(c.default.createElement(T.default,{key:"border_"+r.getLocation().getName(),border:r,layout:this}));for(var a=r._getDrawChildren(),s=0;s<a.length;s++){var u=a[s];u.getType()===P.default.TYPE?i.push(c.default.createElement(_.default,{key:u.getId(),layout:this,node:u})):u.getType()===N.default.TYPE&&(n[u.getId()]=c.default.createElement(v.default,{key:u.getId(),layout:this,node:u,selected:s==r.getSelected(),factory:this.props.factory}))}}}}},{key:"renderChildren",value:function(e,t,n,i){for(var o=e._getDrawChildren(),r=0;r<o.length;r++){var a=o[r];if(a.getType()===P.default.TYPE)i.push(c.default.createElement(_.default,{key:a.getId(),layout:this,node:a}));else if(a.getType()===C.default.TYPE)t.push(c.default.createElement(b.default,{key:a.getId(),layout:this,node:a})),this.renderChildren(a,t,n,i);else if(a.getType()===N.default.TYPE){var s=a.getParent().getChildren()[a.getParent().getSelected()];n[a.getId()]=c.default.createElement(v.default,{key:a.getId(),layout:this,node:a,selected:a===s,factory:this.props.factory})}else this.renderChildren(a,t,n,i)}}},{key:"addTabToTabSet",value:function(e,t){var n=this.model.getNodeById(e);null!=n&&this.doAction(I.default.addNode(t,e,S.default.CENTER,-1))}},{key:"addTabToActiveTabSet",value:function(e){var t=this.model.getActiveTabset();null!=t&&this.doAction(I.default.addNode(e,t.getId(),S.default.CENTER,-1))}},{key:"addTabWithDragAndDrop",value:function(e,t,n){this.fnNewNodeDropped=n,this.newTabJson=t,this.dragStart(null,e,new N.default(this.model,t),null,null)}},{key:"addTabWithDragAndDropIndirect",value:function(e,t,n){this.fnNewNodeDropped=n,this.newTabJson=t,E.default.instance.addGlass(this.onCancelAdd.bind(this)),this.dragDivText=e,this.dragDiv=document.createElement("div"),this.dragDiv.className="flexlayout__drag_rect",this.dragDiv.innerHTML=this.dragDivText,this.dragDiv.addEventListener("mousedown",this.onDragDivMouseDown.bind(this)),this.dragDiv.addEventListener("touchstart",this.onDragDivMouseDown.bind(this));var i=new D.default(10,10,150,50);i.centerInRect(this.rect),this.dragDiv.style.left=i.x+"px",this.dragDiv.style.top=i.y+"px";var o=f.default.findDOMNode(this);o.appendChild(this.dragDiv)}},{key:"onCancelAdd",value:function(){var e=f.default.findDOMNode(this);e.removeChild(this.dragDiv),this.dragDiv=null,null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),E.default.instance.hideGlass(),this.newTabJson=null}},{key:"onCancelDrag",value:function(){var e=f.default.findDOMNode(this);try{e.removeChild(this.outlineDiv)}catch(e){}try{e.removeChild(this.dragDiv)}catch(e){}this.dragDiv=null,this.hideEdges(e),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),E.default.instance.hideGlass(),this.newTabJson=null}},{key:"onDragDivMouseDown",value:function(e){e.preventDefault(),this.dragStart(e,this.dragDivText,new N.default(this.model,this.newTabJson),!0,null,null)}},{key:"dragStart",value:function(e,t,n,i,o,r){null==this.model.getMaximizedTabset()&&i?(this.dragNode=n,this.dragDivText=t,E.default.instance.startDrag(e,this.onDragStart.bind(this),this.onDragMove.bind(this),this.onDragEnd.bind(this),this.onCancelDrag.bind(this),o,r)):E.default.instance.startDrag(e,null,null,null,null,o,r)}},{key:"onDragStart",value:function(e){this.dropInfo=null;var t=f.default.findDOMNode(this);return this.outlineDiv=document.createElement("div"),this.outlineDiv.className="flexlayout__outline_rect",t.appendChild(this.outlineDiv),null==this.dragDiv&&(this.dragDiv=document.createElement("div"),this.dragDiv.className="flexlayout__drag_rect",this.dragDiv.innerHTML=this.dragDivText,t.appendChild(this.dragDiv)),this.showEdges(t),null!=this.dragNode&&this.dragNode.getType()===N.default.TYPE&&null!=this.dragNode.getTabRect()&&this.dragNode.getTabRect().positionElement(this.outlineDiv),this.firstMove=!0,!0}},{key:"onDragMove",value:function(e){this.firstMove===!1&&(this.outlineDiv.style.transition="top .3s, left .3s, width .3s, height .3s"),this.firstMove=!1;var t=this.refs.self.getBoundingClientRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};this.dragDiv.style.left=n.x-this.dragDiv.getBoundingClientRect().width/2+"px",this.dragDiv.style.top=n.y+5+"px";var i=this.model._findDropTargetNode(this.dragNode,n.x,n.y);i&&(this.dropInfo=i,this.outlineDiv.className=i.className,i.rect.positionElement(this.outlineDiv))}},{key:"onDragEnd",value:function(e){var t=f.default.findDOMNode(this);t.removeChild(this.outlineDiv),t.removeChild(this.dragDiv),this.dragDiv=null,this.hideEdges(t),E.default.instance.hideGlass(),this.dropInfo&&(null!=this.newTabJson?(this.doAction(I.default.addNode(this.newTabJson,this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index)),null!=this.fnNewNodeDropped&&(this.fnNewNodeDropped(),this.fnNewNodeDropped=null),this.newTabJson=null):null!=this.dragNode&&this.doAction(I.default.moveNode(this.dragNode.getId(),this.dropInfo.node.getId(),this.dropInfo.location,this.dropInfo.index)))}},{key:"showEdges",value:function(e){if(this.model.isEnableEdgeDock()){var t=e.getBoundingClientRect(),n=this.centerRect,i=100,o=i+"px",r="50px",a="10px";this.edgeTopDiv=document.createElement("div"),this.edgeTopDiv.className="flexlayout__edge_rect",this.edgeTopDiv.style.top=n.y+"px",this.edgeTopDiv.style.left=n.x+(n.width-i)/2+"px",this.edgeTopDiv.style.width=o,this.edgeTopDiv.style.height=a,this.edgeTopDiv.style.borderBottomLeftRadius=r,this.edgeTopDiv.style.borderBottomRightRadius=r,this.edgeLeftDiv=document.createElement("div"),this.edgeLeftDiv.className="flexlayout__edge_rect",this.edgeLeftDiv.style.top=n.y+(n.height-i)/2+"px",this.edgeLeftDiv.style.left=n.x+"px",this.edgeLeftDiv.style.width=a,this.edgeLeftDiv.style.height=o,this.edgeLeftDiv.style.borderTopRightRadius=r,this.edgeLeftDiv.style.borderBottomRightRadius=r,this.edgeBottomDiv=document.createElement("div"),this.edgeBottomDiv.className="flexlayout__edge_rect",this.edgeBottomDiv.style.bottom=t.height-n.getBottom()+"px",this.edgeBottomDiv.style.left=n.x+(n.width-i)/2+"px",this.edgeBottomDiv.style.width=o,this.edgeBottomDiv.style.height=a,this.edgeBottomDiv.style.borderTopLeftRadius=r,this.edgeBottomDiv.style.borderTopRightRadius=r,this.edgeRightDiv=document.createElement("div"),this.edgeRightDiv.className="flexlayout__edge_rect",this.edgeRightDiv.style.top=n.y+(n.height-i)/2+"px",this.edgeRightDiv.style.right=t.width-n.getRight()+"px",this.edgeRightDiv.style.width=a,this.edgeRightDiv.style.height=o,this.edgeRightDiv.style.borderTopLeftRadius=r,this.edgeRightDiv.style.borderBottomLeftRadius=r,e.appendChild(this.edgeTopDiv),e.appendChild(this.edgeLeftDiv),e.appendChild(this.edgeBottomDiv),e.appendChild(this.edgeRightDiv)}}},{key:"hideEdges",value:function(e){if(this.model.isEnableEdgeDock())try{e.removeChild(this.edgeTopDiv),e.removeChild(this.edgeLeftDiv),e.removeChild(this.edgeBottomDiv),e.removeChild(this.edgeRightDiv)}catch(e){}}},{key:"maximize",value:function(e){this.doAction(I.default.maximizeToggle(e.getId()))}},{key:"customizeTab",value:function(e,t){this.props.onRenderTab&&this.props.onRenderTab(e,t)}},{key:"customizeTabSet",value:function(e,t){this.props.onRenderTabSet&&this.props.onRenderTabSet(e,t)}}]),t}(c.default.Component);L.propTypes={model:l.default.instanceOf(B.default).isRequired,factory:l.default.func.isRequired,onAction:l.default.func,onRenderTab:l.default.func,onRenderTabSet:l.default.func,onModelChange:l.default.func},t.default=L},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=i(d),h=n(15),f=i(h),p=n(3),_=i(p),y=n(7),v=i(y),g=n(4),b=i(g),m=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"onMouseDown",value:function(e){f.default.instance.startDrag(e,this.onDragStart.bind(this),this.onDragMove.bind(this),this.onDragEnd.bind(this),this.onDragCancel.bind(this))}},{key:"onDragCancel",value:function(){var e=c.default.findDOMNode(this.props.layout);e.removeChild(this.outlineDiv)}},{key:"onDragStart",value:function(e){this.pBounds=this.props.node.getParent()._getSplitterBounds(this.props.node);var t=c.default.findDOMNode(this.props.layout);return this.outlineDiv=document.createElement("div"),this.outlineDiv.style.position="absolute",this.outlineDiv.className="flexlayout__splitter_drag",this.outlineDiv.style.cursor=this.props.node.getOrientation()===_.default.HORZ?"ns-resize":"ew-resize",this.props.node.getRect().positionElement(this.outlineDiv),t.appendChild(this.outlineDiv),!0}},{key:"onDragMove",value:function(e){var t=c.default.findDOMNode(this.props.layout).getBoundingClientRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};this.props.node.getOrientation()===_.default.HORZ?this.outlineDiv.style.top=this.getBoundPosition(n.y-4)+"px":this.outlineDiv.style.left=this.getBoundPosition(n.x-4)+"px"}},{key:"onDragEnd",value:function(e){var t=this.props.node,n=0;if(n=t.getOrientation()===_.default.HORZ?this.outlineDiv.offsetTop:this.outlineDiv.offsetLeft,t.getParent().getType()==v.default.TYPE){var i=t.getParent()._calculateSplit(t,n);this.props.layout.doAction(b.default.adjustBorderSplit(t.getParent().getId(),i))}else{var o=t.getParent()._calculateSplit(this.props.node,n);null!=o&&this.props.layout.doAction(b.default.adjustSplit(o))}var r=c.default.findDOMNode(this.props.layout);r.removeChild(this.outlineDiv)}},{key:"getBoundPosition",value:function(e){var t=e;return e<this.pBounds[0]&&(t=this.pBounds[0]),e>this.pBounds[1]&&(t=this.pBounds[1]),t}},{key:"render",value:function(){var e=this.props.node,t=e._styleWithPosition({cursor:this.props.node.getOrientation()===_.default.HORZ?"ns-resize":"ew-resize"});return l.default.createElement("div",{style:t,onTouchStart:this.onMouseDown.bind(this),onMouseDown:this.onMouseDown.bind(this),className:"flexlayout__splitter"})}}]),t}(l.default.Component);t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=(i(d),n(9)),h=i(c),f=n(4),p=i(f),_=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={renderComponent:e.selected},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){!this.state.renderComponent&&e.selected&&this.setState({renderComponent:!0})}},{key:"onMouseDown",value:function(e){var t=this.props.node.getParent();t.getType()==h.default.TYPE&&(t.isActive()||this.props.layout.doAction(p.default.setActiveTabset(t.getId())))}},{key:"render",value:function(){var e=this.props.node,t=e._styleWithPosition({display:this.props.selected?"block":"none"});this.props.node.getParent().isMaximized()&&(t.zIndex=100);var n=null;return this.state.renderComponent&&(n=this.props.factory(e)),l.default.createElement("div",{className:"flexlayout__tab",onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this),style:t},n)}}]),t}(l.default.Component);t.default=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=i(d),h=n(1),f=i(h),p=n(21),_=(i(p),n(4)),y=i(_),v=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editing:!1},n.onEndEdit=n.onEndEdit.bind(n),n}return a(t,e),s(t,[{key:"onMouseDown",value:function(e){this.props.layout.dragStart(e,"Move: "+this.props.node.getName(),this.props.node,this.props.node.isEnableDrag(),this.onClick.bind(this),this.onDoubleClick.bind(this))}},{key:"onClick",value:function(e){var t=this.props.node;this.props.layout.doAction(y.default.selectTab(t.getId()))}},{key:"onDoubleClick",value:function(e){this.props.node.isEnableRename()?(this.setState({editing:!0}),document.body.addEventListener("mousedown",this.onEndEdit),document.body.addEventListener("touchstart",this.onEndEdit)):this.props.node._parent.isEnableMaximize()&&this.props.layout.maximize(this.props.node.getParent())}},{key:"onEndEdit",value:function(e){e.target!==this.refs.contents&&(this.setState({editing:!1}),document.body.removeEventListener("mousedown",this.onEndEdit),document.body.removeEventListener("touchstart",this.onEndEdit))}},{key:"onClose",value:function(e){var t=this.props.node;this.props.layout.doAction(y.default.deleteTab(t.getId()))}},{key:"onCloseMouseDown",value:function(e){e.stopPropagation()}},{key:"componentDidMount",value:function(){this.updateRect()}},{key:"componentDidUpdate",value:function(){this.updateRect(),this.state.editing&&this.refs.contents.select()}},{key:"updateRect",value:function(){var e=c.default.findDOMNode(this.props.layout).getBoundingClientRect(),t=this.refs.self.getBoundingClientRect();this.props.node.setTabRect(new f.default(t.left-e.left,t.top-e.top,t.width,t.height)),this.contentWidth=this.refs.contents.getBoundingClientRect().width}},{key:"onTextBoxMouseDown",value:function(e){e.stopPropagation()}},{key:"onTextBoxKeyPress",value:function(e){if(27===e.keyCode)this.setState({editing:!1});else if(13===e.keyCode){this.setState({editing:!1});var t=this.props.node;this.props.layout.doAction(y.default.renameTab(t.getId(),e.target.value))}}},{key:"doRename",value:function(e,t){this.props.layout.doAction(y.default.renameTab(e.getId(),t))}},{key:"render",value:function(){var e="flexlayout__tab_button",t=this.props.node;e+=this.props.selected?" flexlayout__tab_button--selected":" flexlayout__tab_button--unselected",null!=this.props.node.getClassName()&&(e+=" "+this.props.node.getClassName());var n=null;null!=t.getIcon()&&(n=l.default.createElement("img",{src:t.getIcon()}));var i={leading:n,content:t.getName()};this.props.layout.customizeTab(t,i);var o=l.default.createElement("div",{ref:"contents",className:"flexlayout__tab_button_content"},i.content),r=l.default.createElement("div",{className:"flexlayout__tab_button_leading"},i.leading);if(this.state.editing){var a={width:this.contentWidth+"px"};o=l.default.createElement("input",{style:a,ref:"contents",className:"flexlayout__tab_button_textbox",type:"text",autoFocus:!0,defaultValue:t.getName(),onKeyDown:this.onTextBoxKeyPress.bind(this),onMouseDown:this.onTextBoxMouseDown.bind(this),onTouchStart:this.onTextBoxMouseDown.bind(this)})}var s=null;return this.props.node.isEnableClose()&&(s=l.default.createElement("div",{className:"flexlayout__tab_button_trailing",onMouseDown:this.onCloseMouseDown.bind(this),onClick:this.onClose.bind(this),onTouchStart:this.onCloseMouseDown.bind(this)})),l.default.createElement("div",{ref:"self",style:{visibility:this.props.show?"visible":"hidden",height:this.props.height},className:e,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},r,o,s)}}]),t}(l.default.Component);t.default=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),l=i(u),d=n(6),c=(i(d),n(1)),h=(i(c),n(21)),f=i(h),p=n(4),_=i(p),y=n(30),v=i(y),g=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.recalcVisibleTabs=!0,n.showOverflow=!1,n.showToolbar=!0,n.state={hideTabsAfter:999},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.updateVisibleTabs()}},{key:"componentDidUpdate",value:function(){this.updateVisibleTabs()}},{key:"componentWillReceiveProps",value:function(e){this.showToolbar=!0,this.showOverflow=!1,this.recalcVisibleTabs=!0,this.setState({hideTabsAfter:999})}},{key:"updateVisibleTabs",value:function(){var e=this.props.node;if(e.isEnableTabStrip()&&this.recalcVisibleTabs){for(var t=this.refs.toolbar.getBoundingClientRect().width,n=999,i=0;i<e.getChildren().length;i++){var o=e.getChildren()[i];if(o.getTabRect().getRight()>e.getRect().getRight()-(20+t)){n=Math.max(0,i-1),this.showOverflow=e.getChildren().length>1,0===i&&(this.showToolbar=!1,o.getTabRect().getRight()>e.getRect().getRight()-20&&(this.showOverflow=!1));break}}this.state.hideTabsAfter!==n&&this.setState({hideTabsAfter:n}),this.recalcVisibleTabs=!1}}},{key:"render",value:function(){var e=this.props.node,t=e._styleWithPosition();this.props.node.isMaximized()&&(t.zIndex=100);var n=[],i=[];if(e.isEnableTabStrip())for(var o=0;o<e.getChildren().length;o++){var r=this.props.node.getSelected()===o,a=this.state.hideTabsAfter>=o,s=e.getChildren()[o];this.state.hideTabsAfter===o&&this.props.node.getSelected()>this.state.hideTabsAfter?(i.push({name:s.getName(),node:s,index:o}),s=e.getChildren()[this.props.node.getSelected()],r=!0):a||r||i.push({name:s.getName(),node:s,index:o}),a&&n.push(l.default.createElement(v.default,{layout:this.props.layout,node:s,key:s.getId(),selected:r,show:a,height:e.getTabStripHeight(),pos:o}))}var u=[],d={headerContent:e.getName(),buttons:u};this.props.layout.customizeTabSet(this.props.node,d);var c=d.headerContent;u=d.buttons;var h=null;this.showToolbar===!0&&(this.props.node.isEnableMaximize()&&u.push(l.default.createElement("button",{key:"max",className:"flexlayout__tab_toolbar_button-"+(e.isMaximized()?"max":"min"),onClick:this.onMaximizeToggle.bind(this)})),h=l.default.createElement("div",{key:"toolbar",ref:"toolbar",className:"flexlayout__tab_toolbar",onMouseDown:this.onInterceptMouseDown.bind(this)},u)),this.showOverflow===!0&&n.push(l.default.createElement("button",{key:"overflowbutton",ref:"overflowbutton",className:"flexlayout__tab_button_overflow",onClick:this.onOverflowClick.bind(this,i),onMouseDown:this.onInterceptMouseDown.bind(this)},i.length));var f=null!=e.getName(),p=null,_=null,y="flexlayout__tab_header_outer";if(null!=this.props.node.getClassNameTabStrip()&&(y+=" "+this.props.node.getClassNameTabStrip()),e.isActive()&&!f&&(y+=" flexlayout__tabset-selected"),e.isMaximized()&&!f&&(y+=" flexlayout__tabset-maximized"),f){var g="flexlayout__tabset_header";e.isActive()&&(g+=" flexlayout__tabset-selected"),e.isMaximized()&&(g+=" flexlayout__tabset-maximized"),null!=this.props.node.getClassNameHeader()&&(g+=" "+this.props.node.getClassNameHeader()),p=l.default.createElement("div",{className:g,style:{height:e.getHeaderHeight()+"px"},onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},c,h),_=l.default.createElement("div",{className:y,style:{height:e.getTabStripHeight()+"px",top:e.getHeaderHeight()+"px"}},l.default.createElement("div",{ref:"header",className:"flexlayout__tab_header_inner"},n))}else _=l.default.createElement("div",{className:y,style:{top:"0px",height:e.getTabStripHeight()+"px"},onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onMouseDown.bind(this)},l.default.createElement("div",{ref:"header",className:"flexlayout__tab_header_inner"},n),h);return l.default.createElement("div",{style:t,className:"flexlayout__tabset"},p,_)}},{key:"onOverflowClick",value:function(e,t){var n=this.refs.overflowbutton;f.default.show(n,e,this.onOverflowItemSelect.bind(this))}},{key:"onOverflowItemSelect",value:function(e){this.props.node;this.props.layout.doAction(_.default.selectTab(e.node.getId()))}},{key:"onMouseDown",value:function(e){var t=this.props.node.getName();t=null==t?"":": "+t,this.props.layout.doAction(_.default.setActiveTabset(this.props.node.getId())),this.props.layout.dragStart(e,"Move tabset"+t,this.props.node,this.props.node.isEnableDrag(),null,this.onDoubleClick.bind(this))}},{key:"onInterceptMouseDown",value:function(e){e.stopPropagation()}},{key:"onMaximizeToggle",value:function(){this.props.node.isEnableMaximize()&&this.props.layout.maximize(this.props.node)}},{key:"onDoubleClick",value:function(){this.props.node.isEnableMaximize()&&this.props.layout.maximize(this.props.node)}}]),t}(l.default.Component);t.default=g},function(e,t,n){(function(t){"use strict";function i(e,n,i,u,l){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var c;try{o("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",u||"React class",i,d),c=e[d](n,d,u,i,null,a)}catch(e){c=e}if(r(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",i,d,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var h=l?l():"";r(!1,"Failed %s type: %s%s",i,c.message,null!=h?h:"")}}}if("production"!==t.env.NODE_ENV)var o=n(19),r=n(24),a=n(20),s={};e.exports=i}).call(t,n(13))},function(e,t,n){"use strict";var i=n(18),o=n(19),r=n(20);e.exports=function(){function e(e,t,n,i,a,s){s!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){(function(t){"use strict";var i=n(18),o=n(19),r=n(24),a=n(20),s=n(32);e.exports=function(e,n){function u(e){var t=e&&(x&&e[x]||e[N]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function d(e){this.message=e,this.stack=""}function c(e){function i(i,l,c,h,f,p,_){if(h=h||R,p=p||c,_!==a)if(n)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var y=h+":"+c;!s[y]&&u<3&&(r(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,h),s[y]=!0,u++)}return null==l[c]?i?new d(null===l[c]?"The "+f+" `"+p+"` is marked as required "+("in `"+h+"`, but its value is `null`."):"The "+f+" `"+p+"` is marked as required in "+("`"+h+"`, but its value is `undefined`.")):null:e(l,c,h,f,p)}if("production"!==t.env.NODE_ENV)var s={},u=0;var l=i.bind(null,!1);return l.isRequired=i.bind(null,!0),l}function h(e){function t(t,n,i,o,r,a){var s=t[n],u=k(s);if(u!==e){var l=D(s);return new d("Invalid "+o+" `"+r+"` of type "+("`"+l+"` supplied to `"+i+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function f(){return c(i.thatReturnsNull)}function p(e){function t(t,n,i,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=k(s);return new d("Invalid "+o+" `"+r+"` of type "+("`"+u+"` supplied to `"+i+"`, expected an array."))}for(var l=0;l<s.length;l++){var c=e(s,l,i,o,r+"["+l+"]",a);if(c instanceof Error)return c}return null}return c(t)}function _(){function t(t,n,i,o,r){var a=t[n];if(!e(a)){var s=k(a);return new d("Invalid "+o+" `"+r+"` of type "+("`"+s+"` supplied to `"+i+"`, expected a single ReactElement."))}return null}return c(t)}function y(e){function t(t,n,i,o,r){if(!(t[n]instanceof e)){var a=e.name||R,s=S(t[n]);return new d("Invalid "+o+" `"+r+"` of type "+("`"+s+"` supplied to `"+i+"`, expected ")+("instance of `"+a+"`."))}return null}return c(t)}function v(e){function n(t,n,i,o,r){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;var u=JSON.stringify(e);return new d("Invalid "+o+" `"+r+"` of value `"+a+"` "+("supplied to `"+i+"`, expected one of "+u+"."))}return Array.isArray(e)?c(n):("production"!==t.env.NODE_ENV?r(!1,"Invalid argument supplied to oneOf, expected an instance of array."):void 0,i.thatReturnsNull)}function g(e){function t(t,n,i,o,r){if("function"!=typeof e)return new d("Property `"+r+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var s=t[n],u=k(s);if("object"!==u)return new d("Invalid "+o+" `"+r+"` of type "+("`"+u+"` supplied to `"+i+"`, expected an object."));for(var l in s)if(s.hasOwnProperty(l)){var c=e(s,l,i,o,r+"."+l,a);if(c instanceof Error)return c}return null}return c(t)}function b(e){function n(t,n,i,o,r){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,i,o,r,a))return null}return new d("Invalid "+o+" `"+r+"` supplied to "+("`"+i+"`."))}if(!Array.isArray(e))return"production"!==t.env.NODE_ENV?r(!1,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0,i.thatReturnsNull;for(var o=0;o<e.length;o++){var s=e[o];if("function"!=typeof s)return r(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",O(s),o),i.thatReturnsNull}return c(n)}function m(){function e(e,t,n,i,o){
return w(e[t])?null:new d("Invalid "+i+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return c(e)}function T(e){function t(t,n,i,o,r){var s=t[n],u=k(s);if("object"!==u)return new d("Invalid "+o+" `"+r+"` of type `"+u+"` "+("supplied to `"+i+"`, expected `object`."));for(var l in e){var c=e[l];if(c){var h=c(s,l,i,o,r+"."+l,a);if(h)return h}}return null}return c(t)}function w(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(w);if(null===t||e(t))return!0;var n=u(t);if(!n)return!1;var i,o=n.call(t);if(n!==t.entries){for(;!(i=o.next()).done;)if(!w(i.value))return!1}else for(;!(i=o.next()).done;){var r=i.value;if(r&&!w(r[1]))return!1}return!0;default:return!1}}function E(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function k(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":E(t,e)?"symbol":t}function D(e){if("undefined"==typeof e||null===e)return""+e;var t=k(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function O(e){var t=D(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function S(e){return e.constructor&&e.constructor.name?e.constructor.name:R}var x="function"==typeof Symbol&&Symbol.iterator,N="@@iterator",R="<<anonymous>>",C={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(),arrayOf:p,element:_(),instanceOf:y,node:m(),objectOf:g,oneOf:v,oneOfType:b,shape:T};return d.prototype=Error.prototype,C.checkPropTypes=s,C.PropTypes=C,C}}).call(t,n(13))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},r=!0;e.exports=n(34)(o,r)}else e.exports=n(33)()}).call(t,n(13))}])});